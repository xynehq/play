#!/usr/bin/env python3

import argparse
import sys
from pathlib import Path

# Add current directory to path to import orchestrator
sys.path.insert(0, str(Path(__file__).parent))

from orchestrator import run_pr


def parse_args() -> argparse.Namespace:
    parser = argparse.ArgumentParser(description="Run PR automation pipeline")
    parser.add_argument("pr_number", help="PR number to process")
    parser.add_argument(
        "--models",
        help="Comma-separated list of models (e.g., claude-sonnet-4-5,minimax-m2,glm-full)",
    )
    return parser.parse_args()


def main():
    """Main CLI entry point for run_pr command."""
    args = parse_args()
    models = args.models.split(",") if args.models else None
    run_pr(args.pr_number, models=models)


if __name__ == "__main__":
    main()
